#include <stdio.h>
#include <string.h>

int main() {
   
   int i, j, correct, correct2, correct3, correct4, enrolled[4][5];
   char courses[5][50] = {"Physics","Maths","CompScience","English","Islamiat"};
   char choice, choice2, students[4][50];
   int choice3;
   
   for(i = 0; i < 4; i++)
   {
   		printf("Enter name of student %d: ", i+1);
   		scanf("%s", students[i]);
   		for(j = 0; j < 5; j++)
   		{
   			correct = 0;
   			while(correct == 0)
   			{
   				printf("Is %s enrolled in the course of %s (Y/N): ", students[i], courses[j]);
   				scanf(" %c", &choice);
   				if (choice == 'Y' || choice == 'y')
   				{
   					enrolled[i][j] = 1;
   					correct = 1;
				}	
                else if (choice == 'N' || choice == 'n')
				{
					enrolled[i][j] = 0;
					correct = 1;
				}	
                else	
                {
					printf("\nInvalid input, try again.\n");
				}
			}
		}
   }
   
   printf("\n\n%-15s", "Course");
	for(i = 0; i < 4; i++)
	{
   		printf("%-12s", students[i]);
	}
	printf("\n");

	printf("-------------------------------------------------------------\n");

	for(j = 0; j < 5; j++)
	{
    	printf("%-15s", courses[j]);   
    
    	for(i = 0; i < 4; i++)         
    	{
      	  if(enrolled[i][j] == 1)
        	    printf("%-12c", 'Y');
       	  else
       	     printf("%-12c", 'N');
    	}
    	printf("\n");
	}
	
	correct2 = 0;
	
	while(correct2 == 0)
	{
		printf("\nWould you like to find students enrolled in a specific course (Y/N): ");
    	scanf(" %c", &choice2);

    	if(choice2 == 'Y' || choice2 == 'y')
    	{
    		correct3 = 1;
    		correct2 = 1;
		}	
        else if(choice2 == 'N' || choice2 == 'n')
		{
			correct3 = 0;
			correct2 = 1;
		}	
        else	
        {
			printf("\nInvalid input, try again.");
		}
	}
	
  	while(correct3 == 1)
  	{
  		correct4 = 0;

  		while(correct4 == 0)
  		{
  			printf("\nSelect a course (0 = Physics, 1 = Maths, 2 = CompScience, 3 = English, 4 = Islamiat): ");
  			scanf("%d", &choice3);

            if(choice3 >= 0 && choice3 <= 4)
  				correct4 = 1;
			else
				printf("\nInvalid input, try again.\n");
		}

		printf("\nStudents enrolled in %s:\n", courses[choice3]);

		int found = 0;
		for(i = 0; i < 4; i++)
		{
			if(enrolled[i][choice3] == 1)
			{
				printf(" - %s\n", students[i]);
				found = 1;
			}
		}

		if(!found)
			printf("No students are enrolled in this course.\n");

		printf("\nSearch another course? (Y/N): ");
		scanf(" %c", &choice2);

		if(choice2 == 'N' || choice2 == 'n')
			break;
	}
	
	printf("\n====== Overloaded Students (More than 3 courses) ======\n");

	int overloadedFound = 0;

	for(i = 0; i < 4; i++)
	{
		int count = 0;

		for(j = 0; j < 5; j++)
		{
			if(enrolled[i][j] == 1)
				count++;
		}

		if(count > 3)
		{
			printf("%s is taking %d courses - OVERLOADED!\n", students[i], count);
			overloadedFound = 1;
		}
	}

	if(!overloadedFound)
	{
		printf("No students are overloaded.\n");
	}

   
    return 0;
}
